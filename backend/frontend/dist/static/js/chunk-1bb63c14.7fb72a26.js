(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bb63c14"],{"25f0":function(t,e,r){"use strict";var s=r("6eeb"),n=r("825a"),a=r("d039"),i=r("ad6d"),o="toString",c=RegExp.prototype,u=c[o],l=a((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=u.name!=o;(l||d)&&s(RegExp.prototype,o,(function(){var t=n(this),e=String(t.source),r=t.flags,s=String(void 0===r&&t instanceof RegExp&&!("flags"in c)?i.call(t):r);return"/"+e+"/"+s}),{unsafe:!0})},"44e7":function(t,e,r){var s=r("861d"),n=r("c6b6"),a=r("b622"),i=a("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==n(t))}},"4d63":function(t,e,r){var s=r("83ab"),n=r("da84"),a=r("94ca"),i=r("7156"),o=r("9bf2").f,c=r("241c").f,u=r("44e7"),l=r("ad6d"),d=r("9f7f"),p=r("6eeb"),f=r("d039"),h=r("69f3").set,g=r("2626"),v=r("b622"),m=v("match"),b=n.RegExp,_=b.prototype,C=/a/g,x=/a/g,y=new b(C)!==C,w=d.UNSUPPORTED_Y,$=s&&a("RegExp",!y||w||f((function(){return x[m]=!1,b(C)!=C||b(x)==x||"/a/i"!=b(C,"i")})));if($){var E=function(t,e){var r,s=this instanceof E,n=u(t),a=void 0===e;if(!s&&n&&t.constructor===E&&a)return t;y?n&&!a&&(t=t.source):t instanceof E&&(a&&(e=l.call(t)),t=t.source),w&&(r=!!e&&e.indexOf("y")>-1,r&&(e=e.replace(/y/g,"")));var o=i(y?new b(t,e):b(t,e),s?this:_,E);return w&&r&&h(o,{sticky:r}),o},k=function(t){t in E||o(E,t,{configurable:!0,get:function(){return b[t]},set:function(e){b[t]=e}})},R=c(b),P=0;while(R.length>P)k(R[P++]);_.constructor=E,E.prototype=_,p(n,"RegExp",E)}g("RegExp")},7156:function(t,e,r){var s=r("861d"),n=r("d2bb");t.exports=function(t,e,r){var a,i;return n&&"function"==typeof(a=e.constructor)&&a!==r&&s(i=a.prototype)&&i!==r.prototype&&n(t,i),t}},"7f59":function(t,e,r){},9263:function(t,e,r){"use strict";var s=r("ad6d"),n=r("9f7f"),a=RegExp.prototype.exec,i=String.prototype.replace,o=a,c=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=n.UNSUPPORTED_Y||n.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],d=c||l||u;d&&(o=function(t){var e,r,n,o,d=this,p=u&&d.sticky,f=s.call(d),h=d.source,g=0,v=t;return p&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),v=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(h="(?: "+h+")",v=" "+v,g++),r=new RegExp("^(?:"+h+")",f)),l&&(r=new RegExp("^"+h+"$(?!\\s)",f)),c&&(e=d.lastIndex),n=a.call(p?r:d,v),p?n?(n.input=n.input.slice(g),n[0]=n[0].slice(g),n.index=d.lastIndex,d.lastIndex+=n[0].length):d.lastIndex=0:c&&n&&(d.lastIndex=d.global?n.index+n[0].length:e),l&&n&&n.length>1&&i.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),t.exports=o},"9f7f":function(t,e,r){"use strict";var s=r("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=s((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=s((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,r){"use strict";var s=r("23e7"),n=r("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(t,e,r){"use strict";var s=r("825a");t.exports=function(){var t=s(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,r){var s=r("83ab"),n=r("9bf2").f,a=Function.prototype,i=a.toString,o=/^\s*function ([^ (]*)/,c="name";s&&!(c in a)&&n(a,c,{configurable:!0,get:function(){try{return i.call(this).match(o)[1]}catch(t){return""}}})},bb51:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("body",{staticClass:"page-wrapper"},[r("Sidebar"),r("div",{staticClass:"page-content"},[r("HeaderBar"),r("router-view")],1)],1)},n=[],a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"sidebar-wrapper",attrs:{id:"sidebar"}},[r("div",{staticClass:"sidebar-brand"},[r("router-link",{staticClass:"logo",attrs:{to:"/"}},[t._v("车间生产监管平台")])],1),r("div",{staticClass:"sidebar-user-details"},[r("UserProfile"),r("ProfileActions")],1),r("SidebarMenu")],1)},i=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"user-profile"},[r("img",{staticClass:"profile-thumb",attrs:{src:t.user.avatar,alt:"User Thumb"}}),r("span",{staticClass:"status-label"})]),r("h6",{staticClass:"profile-name"},[t._v(t._s(t.user.username))])])},c=[],u={name:"UserProfile",computed:{user:function(){return this.$store.getters["user/currentUser"]}}},l=u,d=r("2877"),p=Object(d["a"])(l,o,c,!1,null,"265d18c9",null),f=p.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sidebar-content sidebar-menu"},[r("ul",[r("li",{directives:[{name:"show",rawName:"v-show",value:"workshop"===t.currentSubSys,expression:"currentSubSys === 'workshop'"}],class:["sidebar-dropdown","controlGraph"===t.currentActiveTag?"active":""]},[r("a",{attrs:{href:"javascript:void(0);"},on:{click:t.closeOrOpenProductTag}},[r("i",{staticClass:"icon-home2"}),r("span",{staticClass:"menu-text"},[t._v("零件")])]),r("div",{staticClass:"sidebar-submenu"},[r("ul",t._l(t.products,(function(e,s){return r("ProductItem",{key:s,attrs:{product:e,currentTag:t.currentProductTag,_key:s},on:{changeCurrentProduct:function(e){return t.changeCurrentProduct(e)}}})})),1)])]),t._l(t.menuItems,(function(e,s){return r("li",{key:s,class:t.currentActiveTag===e.id?"active":""},[r("router-link",{attrs:{to:e.path}},[r("i",{class:e.iconClass}),r("span",{staticClass:"menu-text"},[t._v(t._s(e.name))])])],1)}))],2)])},g=[],v=(r("4160"),r("b0c0"),r("4d63"),r("ac1f"),r("25f0"),r("159b"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"dropdown"},[r("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button"},on:{click:function(e){return t.$emit("changeCurrentProduct",t._key)}}},[t._v(" "+t._s(t.product.name)+" "),r("span",{staticClass:"caret"})]),r("ul",{class:["dropdown-menu",t.currentTag===t._key?"show":""],attrs:{role:"menu"}},t._l(t.product.parameters,(function(e,s){return r("li",{key:s,attrs:{role:"presentation"}},[r("a",{staticClass:"current-page",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.seeControlGraph(s)}}},[t._v(t._s(e.name))])])})),0)])}),m=[],b=(r("99af"),{name:"Product",props:["product","currentTag","_key"],methods:{seeControlGraph:function(t){this.$emit("changeCurrentProduct",this.currentTag),this.$router.push({path:"/home/controlGraph/".concat(this._key,"/").concat(t)})}}}),_=b,C=Object(d["a"])(_,v,m,!1,null,"14a2957f",null),x=C.exports,y={name:"SidebarMenu",components:{ProductItem:x},data:function(){return{currentActiveTag:"NULL",currentProductTag:-1}},computed:{products:function(){return this.$store.getters["products/allProducts"]},currentSubSys:function(){return this.$store.getters["subsystem_state/current_sub_sys"]},menuItems:function(){var t=this,e=[];return this.$store.getters["permission/routes"].forEach((function(r){var s=r.path;r.children&&r.children.forEach((function(r){var n=s+"/"+r.path;if(r.meta&&r.meta.isSidebarItem){if(r.meta.subsystem&&t.$store.getters["subsystem_state/current_sub_sys"]!==r.meta.subsystem)return;var a=/\/home\/(.+?)\//;a.exec(n+"/");var i=RegExp.$1;e.push({path:n,name:r.meta.sidebarInfo.name,iconClass:r.meta.sidebarInfo.iconClass,id:i})}}))})),e}},watch:{$route:"activateTag"},methods:{closeOrOpenProductTag:function(){this.currentActiveTag="controlGraph"===this.currentActiveTag?"NULL":"controlGraph",this.currentProductTag=-1},changeCurrentProduct:function(t){t===this.currentProductTag?this.currentProductTag=-1:this.currentProductTag=t},activateTag:function(){var t=/\/home\/(.+?)\//;t.exec(this.$route.path+"/"),this.currentActiveTag=RegExp.$1,console.log(this.currentActiveTag)}},mounted:function(){var t=this;"workshop"===this.$store.getters["subsystem_state/current_sub_sys"]&&this.$store.dispatch("products/getAllProducts").then((function(e){e.length>0&&e[0].parameters.length>0&&t.$router.push("/home/controlGraph/0/0")}))}},w=y,$=Object(d["a"])(w,h,g,!1,null,"3adf1bb5",null),E=$.exports,k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"profile-actions"},[r("router-link",{attrs:{to:"/home/accountSettings"}},[r("i",{staticClass:"icon-settings1"})]),r("router-link",{attrs:{to:"/"}},[r("i",{staticClass:"icon-home"})]),r("a",{staticClass:"red",attrs:{href:"javascript:void(0);"},on:{click:t.logout}},[r("i",{staticClass:"icon-power1"})])],1)},R=[],P={name:"ProfileActions",methods:{logout:function(){var t=this;this.$store.dispatch("user/logout").then((function(){t.$router.push("/login"),location.reload()}))}}},S=P,T=Object(d["a"])(S,k,R,!1,null,"c048649a",null),O=T.exports,U={name:"Sidebar",components:{ProfileActions:O,SidebarMenu:E,UserProfile:f},computed:{}},A=U,I=Object(d["a"])(A,a,i,!1,null,"263b4f67",null),j=I.exports,N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"header"},[r("div"),r("div",{staticClass:"header-items"},[r("ul",{staticClass:"header-actions"},["workshop"===t.subsys?r("router-link",{attrs:{to:"/home/analysisReports"}},[r("i",{staticClass:"icon-calendar1"})]):t._e(),"workshop"===t.subsys?r("li",{staticClass:"dropdown d-none d-sm-block"},[t._m(0),r("div",{staticClass:"dropdown-menu dropdown-menu-right lrg scrollable-menu",attrs:{"aria-labelledby":"notifications"}},[r("div",{staticClass:"dropdown-menu-header"},[t._v("异常警报 ("+t._s(t.numberOfUnreadReports)+")")]),r("ul",{staticClass:"header-notifications"},t._l(t.unreadReports,(function(e,s){return r("li",{key:s},[r("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.seeDetail(s)}}},[t._m(1,!0),r("div",{staticClass:"details"},[r("div",{staticClass:"user-title"},[t._v(t._s(e.product))]),r("div",{staticClass:"noti-details"},[t._v(t._s(e.information.substring(0,15))+t._s(e.information.length>15?"...":""))]),r("div",{staticClass:"noti-date"},[t._v(t._s(e.time))])])])])})),0)])]):t._e(),r("li",{staticClass:"dropdown user-settings"},[r("a",{attrs:{href:"#",id:"userSettings","data-toggle":"dropdown","aria-haspopup":"true"}},[r("img",{staticClass:"user-avatar",attrs:{src:t.currentUser.avatar,alt:"Avatar"}})]),r("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"userSettings"}},[r("div",{staticClass:"header-profile-actions"},[r("div",{staticClass:"header-user-profile"},[r("div",{staticClass:"header-user"},[r("img",{attrs:{src:t.currentUser.avatar,alt:"Admin Template"}})]),r("h5",[t._v(t._s(t.currentUser.name))]),r("p",[t._v(t._s(t.currentUser.role))])]),r("router-link",{attrs:{to:"/home/accountSettings"}},[r("i",{staticClass:"icon-settings1"}),t._v("账户设置")]),r("a",{attrs:{href:"javascript:void(0);"},on:{click:t.logout}},[r("i",{staticClass:"icon-log-out1"}),t._v("退出")])],1)])])],1)])])},G=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a",{attrs:{href:"#",id:"notifications","data-toggle":"dropdown","aria-haspopup":"true"}},[r("i",{staticClass:"icon-bell"}),r("span",{staticClass:"count-label"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-img away"},[r("span",{staticClass:"glyphicon glyphicon-cog"})])}],D=(r("fb6a"),{name:"HeaderBar",computed:{numberOfUnreadReports:function(){return this.$store.getters["exceptions/numberOfUnreadReports"]},unreadReports:function(){return this.$store.getters["exceptions/reports"].slice(0,this.numberOfUnreadReports)},currentUser:function(){return this.$store.getters["user/currentUser"]},subsys:function(){return this.$store.getters["subsystem_state/current_sub_sys"]}},methods:{seeDetail:function(t){this.$router.push({path:"/home/analysisReportDetail/".concat(t)})},logout:function(){var t=this;this.$store.dispatch("user/logout").then((function(){t.$router.push("/login")}))}},mounted:function(){this.$store.getters["exceptions/hasReport"]||this.$store.dispatch("exceptions/getAllExceptionReports")}}),B=D,L=(r("bd70"),Object(d["a"])(B,N,G,!1,null,"05467734",null)),M=L.exports,H={name:"index",components:{HeaderBar:M,Sidebar:j}},Y=H,J=Object(d["a"])(Y,s,n,!1,null,"753e5402",null);e["default"]=J.exports},bd70:function(t,e,r){"use strict";r("7f59")},fb6a:function(t,e,r){"use strict";var s=r("23e7"),n=r("861d"),a=r("e8b5"),i=r("23cb"),o=r("50c4"),c=r("fc6a"),u=r("8418"),l=r("b622"),d=r("1dde"),p=r("ae40"),f=d("slice"),h=p("slice",{ACCESSORS:!0,0:0,1:2}),g=l("species"),v=[].slice,m=Math.max;s({target:"Array",proto:!0,forced:!f||!h},{slice:function(t,e){var r,s,l,d=c(this),p=o(d.length),f=i(t,p),h=i(void 0===e?p:e,p);if(a(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?n(r)&&(r=r[g],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return v.call(d,f,h);for(s=new(void 0===r?Array:r)(m(h-f,0)),l=0;f<h;f++,l++)f in d&&u(s,l,d[f]);return s.length=l,s}})}}]);
//# sourceMappingURL=chunk-1bb63c14.7fb72a26.js.map